{
	"info": {
		"_postman_id": "42657256-2dbc67af-f758-49a0-9ad0-986e367f5d3a",
		"name": "Webhooks",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "createWorkspace",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "74c9d7cf-ed78-4f09-8d84-2d6441470ea7",
						"exec": [
							"var jsonData = pm.response.json();",
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test(\"Response time is less than 350ms\", function () {",
							"    pm.expect(pm.response.responseTime).to.be.below(1200);",
							"});",
							"pm.test(\"verify Creating WorkSpace\", function () {",
							"    // Remove any extra quotes from displayName",
							"    var responseDisplayName = jsonData.displayName;",
							"    if (typeof responseDisplayName === 'string') {",
							"        responseDisplayName = responseDisplayName.replace(/^\\\\\"|\\\\\"$/g, '');",
							"    }",
							"    var expectedDisplayName =  pm.collectionVariables.get(\"WorkspaceDisplyName\");",
							"    pm.expect(responseDisplayName).to.eql(expectedDisplayName);",
							"});",
							"pm.collectionVariables.set(\"Workspace_ID\", jsonData.id);",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-83c23bc6-2d79-4b3a-8771-1731c8b50130",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{WorkspacePath}}?displayName={{WorkspaceDisplyName}}&key={{APIKEY}}&token={{APITOKEN}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{WorkspacePath}}"
					],
					"query": [
						{
							"key": "displayName",
							"value": "{{WorkspaceDisplyName}}"
						},
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "createBoard",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "fbcc5a5e-3c06-4902-a819-f830338c3d47",
						"exec": [
							"var jsonData = pm.response.json();\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Response time is less than 1200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1200);\r",
							"});\r",
							"pm.test(\"verify CreatingBoard\", function () {\r",
							"    pm.expect(jsonData.name).to.eql(pm.collectionVariables.get(\"BoardName\"));\r",
							"    pm.expect(jsonData.idOrganization).to.eql(pm.collectionVariables.get(\"Workspace_ID\"));\r",
							"});\r",
							"pm.collectionVariables.set(\"Board_ID\", jsonData.id);\r",
							"pm.collectionVariables.set(\"idModel\", jsonData.id);\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-0312d9e3-467f-45b5-93a0-8ef1058bc39d",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{BoardPath}}?name={{BoardName}}&key={{APIKEY}}&token={{APITOKEN}}&idOrganization={{Workspace_ID}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{BoardPath}}"
					],
					"query": [
						{
							"key": "name",
							"value": "{{BoardName}}"
						},
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						},
						{
							"key": "idOrganization",
							"value": "{{Workspace_ID}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "createWebhook",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "835372b0-428b-4abf-8ee0-eaf0451fd2ef",
						"exec": [
							"var jsonData = pm.response.json();\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Response time is less than 1200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1200);\r",
							"});\r",
							"pm.test(\"verify CreatingWebHook\", function () {\r",
							"    pm.expect(jsonData.callbackURL).to.eql(pm.collectionVariables.get(\"callbackURL\"));\r",
							"    pm.expect(jsonData.idModel).to.eql(pm.collectionVariables.get(\"idModel\"));\r",
							"});\r",
							"pm.collectionVariables.set(\"Webhook_ID\", jsonData.id);\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-4b6c48ee-a1ac-433f-b9a2-7c6820510a67",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{WebhooksPath}}?callbackURL={{callbackURL}}&idModel={{idModel}}&key={{APIKEY}}&token={{APITOKEN}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{WebhooksPath}}"
					],
					"query": [
						{
							"key": "callbackURL",
							"value": "{{callbackURL}}"
						},
						{
							"key": "idModel",
							"value": "{{idModel}}"
						},
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "retriveWebhook",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "12e099ad-cbfa-4ef3-be4c-82d4c1e646d2",
						"exec": [
							"var jsonData = pm.response.json();\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Response time is less than 1200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1200);\r",
							"});\r",
							"pm.test(\"verify Retrive WebHook\", function () {\r",
							"    pm.expect(jsonData.callbackURL).to.eql(pm.collectionVariables.get(\"callbackURL\"));\r",
							"    pm.expect(jsonData.idModel).to.eql(pm.collectionVariables.get(\"idModel\"));\r",
							"});\r",
							"pm.collectionVariables.set(\"idModelNew\",pm.collectionVariables.get(\"Workspace_ID\"));"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-e1ef23c3-ad37-47c0-a78b-a3987bc6c5e6",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{WebhooksPath}}{{Webhook_ID}}?key={{APIKEY}}&token={{APITOKEN}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{WebhooksPath}}{{Webhook_ID}}"
					],
					"query": [
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "updateWebhook",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bef9b951-da11-4ae1-8a93-d59dda5baa6b",
						"exec": [
							"var jsonData = pm.response.json();\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Response time is less than 1200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1200);\r",
							"});\r",
							"pm.test(\"verify Upddating WebHook\", function () {\r",
							"    pm.expect(jsonData.callbackURL).to.eql(pm.collectionVariables.get(\"callbackURL\"));\r",
							"    pm.expect(jsonData.idModel).to.eql(pm.collectionVariables.get(\"idModelNew\"));\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-562dd682-2948-4227-bdbf-134f38be6520",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "PUT",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{WebhooksPath}}{{Webhook_ID}}?key={{APIKEY}}&token={{APITOKEN}}&idModel={{idModelNew}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{WebhooksPath}}{{Webhook_ID}}"
					],
					"query": [
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						},
						{
							"key": "idModel",
							"value": "{{idModelNew}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "retriveWebhookAfterUpdate",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0a6d4bed-f7d6-4262-baba-94655dc83e97",
						"exec": [
							"var jsonData = pm.response.json();\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Response time is less than 1200ms\", function () {\r",
							"    pm.expect(pm.response.responseTime).to.be.below(1200);\r",
							"});\r",
							"pm.test(\"verify retrive WebHook After updating \", function () {\r",
							"    pm.expect(jsonData.callbackURL).to.eql(pm.collectionVariables.get(\"callbackURL\"));\r",
							"    pm.expect(jsonData.idModel).to.eql(pm.collectionVariables.get(\"idModelNew\"));\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-e10ba66d-b114-49c9-8f64-73ce758a3fe7",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{WebhooksPath}}{{Webhook_ID}}?key={{APIKEY}}&token={{APITOKEN}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{WebhooksPath}}{{Webhook_ID}}"
					],
					"query": [
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "deleteWebhook",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "ba9c02d2-bf75-4ff2-9e59-697bbbe7792e",
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-a34d945b-cd16-482f-8b9c-faf56e2d1eea",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{WebhooksPath}}{{Webhook_ID}}?key={{APIKEY}}&token={{APITOKEN}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{WebhooksPath}}{{Webhook_ID}}"
					],
					"query": [
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "retriveAfterDeleteWebhook",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "61b050f1-aa11-4346-af5e-fed6511dd88c",
						"exec": [
							"pm.test(\"Status code is 404\", function () {\r",
							"    pm.response.to.have.status(404);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-fafae3ec-f9ee-4289-8ea7-cf0df3362729",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{WebhooksPath}}{{Webhook_ID}}?key={{APIKEY}}&token={{APITOKEN}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{WebhooksPath}}{{Webhook_ID}}"
					],
					"query": [
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "deleteBoard",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "facbbefd-b147-43a7-a641-d047963e72e7",
						"exec": [
							"pm.test(\"Verify deleting Successfully and Status code is 200\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-50628353-c542-493d-a269-c1590a60a8b0",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{BoardPath}}{{Board_ID}}?key={{APIKEY}}&token={{APITOKEN}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{BoardPath}}{{Board_ID}}"
					],
					"query": [
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "deleteWorkspace",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0a94dcc5-1b40-43e2-831c-4a03fd57c204",
						"exec": [
							"pm.test(\"verify Deleting Successfully \", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"id": "42657256-691e3e67-3dc9-4015-9259-799d3998a1de",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{BaseURI}}/{{WorkspacePath}}/{{Workspace_ID}}?key={{APIKEY}}&token={{APITOKEN}}",
					"host": [
						"{{BaseURI}}"
					],
					"path": [
						"{{WorkspacePath}}",
						"{{Workspace_ID}}"
					],
					"query": [
						{
							"key": "key",
							"value": "{{APIKEY}}"
						},
						{
							"key": "token",
							"value": "{{APITOKEN}}"
						}
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "2685e523-a491-4ae5-bdd5-e40abe5154fd",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "6e965342-d8be-4eb0-8fa0-df094bdd52b4",
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "WorkspacePath",
			"value": ""
		},
		{
			"key": "WorkspaceDisplyName",
			"value": ""
		},
		{
			"key": "BoardPath",
			"value": ""
		},
		{
			"key": "BoardName",
			"value": ""
		},
		{
			"key": "Workspace_ID",
			"value": ""
		},
		{
			"key": "Board_ID",
			"value": ""
		},
		{
			"key": "WebhooksPath",
			"value": ""
		},
		{
			"key": "callbackURL",
			"value": ""
		},
		{
			"key": "idModel",
			"value": ""
		},
		{
			"key": "Webhook_ID",
			"value": ""
		},
		{
			"key": "idModelNew",
			"value": ""
		}
	]
}